"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Schema_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Lucid/Schema"));
class default_1 extends Schema_1.default {
    constructor() {
        super(...arguments);
        this.tableName = 'groups_requests';
    }
    async up() {
        this.schema.createTable(this.tableName, (table) => {
            table.increments('id');
            table.integer('user_id').unsigned().references('id').inTable('users').notNullable();
            table
                .integer('group_id')
                .unsigned()
                .references('id')
                .inTable('groups')
                .onDelete('CASCADE')
                .notNullable();
            table.enum('status', ['PENDING', 'ACCEPTED']).defaultTo('PENDING').notNullable();
            table.timestamps(true);
        });
    }
    async down() {
        this.schema.dropTable(this.tableName);
    }
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY4MDYzNzE1NzAyNV9ncm91cF9yZXF1ZXN0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIjE2ODA2MzcxNTcwMjVfZ3JvdXBfcmVxdWVzdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx1RkFBaUQ7QUFFakQsZUFBcUIsU0FBUSxnQkFBVTtJQUF2Qzs7UUFDWSxjQUFTLEdBQUcsaUJBQWlCLENBQUE7SUFxQnpDLENBQUM7SUFuQlEsS0FBSyxDQUFDLEVBQUU7UUFDYixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDaEQsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN0QixLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDbkYsS0FBSztpQkFDRixPQUFPLENBQUMsVUFBVSxDQUFDO2lCQUNuQixRQUFRLEVBQUU7aUJBQ1YsVUFBVSxDQUFDLElBQUksQ0FBQztpQkFDaEIsT0FBTyxDQUFDLFFBQVEsQ0FBQztpQkFDakIsUUFBUSxDQUFDLFNBQVMsQ0FBQztpQkFDbkIsV0FBVyxFQUFFLENBQUE7WUFDaEIsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDaEYsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUN4QixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFTSxLQUFLLENBQUMsSUFBSTtRQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUN2QyxDQUFDO0NBQ0Y7QUF0QkQsNEJBc0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VTY2hlbWEgZnJvbSAnQGlvYzpBZG9uaXMvTHVjaWQvU2NoZW1hJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEJhc2VTY2hlbWEge1xuICBwcm90ZWN0ZWQgdGFibGVOYW1lID0gJ2dyb3Vwc19yZXF1ZXN0cydcblxuICBwdWJsaWMgYXN5bmMgdXAgKCkge1xuICAgIHRoaXMuc2NoZW1hLmNyZWF0ZVRhYmxlKHRoaXMudGFibGVOYW1lLCAodGFibGUpID0+IHtcbiAgICAgIHRhYmxlLmluY3JlbWVudHMoJ2lkJylcbiAgICAgIHRhYmxlLmludGVnZXIoJ3VzZXJfaWQnKS51bnNpZ25lZCgpLnJlZmVyZW5jZXMoJ2lkJykuaW5UYWJsZSgndXNlcnMnKS5ub3ROdWxsYWJsZSgpXG4gICAgICB0YWJsZVxuICAgICAgICAuaW50ZWdlcignZ3JvdXBfaWQnKVxuICAgICAgICAudW5zaWduZWQoKVxuICAgICAgICAucmVmZXJlbmNlcygnaWQnKVxuICAgICAgICAuaW5UYWJsZSgnZ3JvdXBzJylcbiAgICAgICAgLm9uRGVsZXRlKCdDQVNDQURFJylcbiAgICAgICAgLm5vdE51bGxhYmxlKClcbiAgICAgIHRhYmxlLmVudW0oJ3N0YXR1cycsIFsnUEVORElORycsICdBQ0NFUFRFRCddKS5kZWZhdWx0VG8oJ1BFTkRJTkcnKS5ub3ROdWxsYWJsZSgpXG4gICAgICB0YWJsZS50aW1lc3RhbXBzKHRydWUpXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBkb3duICgpIHtcbiAgICB0aGlzLnNjaGVtYS5kcm9wVGFibGUodGhpcy50YWJsZU5hbWUpXG4gIH1cbn1cbiJdfQ==