"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const index_1 = require("./../../database/factories/index");
const japa_1 = __importDefault(require("japa"));
const supertest_1 = __importDefault(require("supertest"));
const Database_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Lucid/Database"));
const Group_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Group"));
const BASE_URL = `http://${process.env.HOST}:${process.env.PORT}`;
let token = '';
let user = {};
japa_1.default.group('Group', (group) => {
    (0, japa_1.default)('it should creat a group', async (assert) => {
        const user = await index_1.UserFactory.create();
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        assert.exists(body.group, 'Group undefined');
        assert.equal(body.group.name, groupPayload.name);
        assert.equal(body.group.description, groupPayload.description);
        assert.equal(body.group.schedule, groupPayload.schedule);
        assert.equal(body.group.location, groupPayload.location);
        assert.equal(body.group.chronic, groupPayload.chronic);
        assert.equal(body.group.master, groupPayload.master);
        assert.exists(body.group.players, 'Players undefined');
        assert.equal(body.group.players.length, 1);
        assert.equal(body.group.players[0].id, groupPayload.master);
    });
    (0, japa_1.default)('it should return 422 when required data is not provided', async (assert) => {
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send({})
            .expect(422);
        assert.equal(body.code, 'BAD_REQUEST');
        assert.equal(body.status, 422);
    });
    (0, japa_1.default)('it should update a group', async (assert) => {
        const group = await index_1.GroupFactory.merge({ master: user.id }).create();
        const payload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
        };
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .patch(`/groups/${group.id}`)
            .set('Authorization', `Bearer ${token}`)
            .send(payload)
            .expect(200);
        assert.exists(body.group, 'Group undefined');
        assert.equal(body.group.name, payload.name);
        assert.equal(body.group.description, payload.description);
        assert.equal(body.group.schedule, payload.schedule);
        assert.equal(body.group.location, payload.location);
        assert.equal(body.group.chronic, payload.chronic);
    });
    (0, japa_1.default)('it should return 404 when providing an unexisting group for update', async (assert) => {
        const response = await (0, supertest_1.default)(BASE_URL)
            .patch('/groups/1')
            .set('Authorization', `Bearer ${token}`)
            .send({})
            .expect(404);
        assert.equal(response.body.code, 'BAD_REQUEST');
        assert.equal(response.body.status, 404);
    });
    (0, japa_1.default)('it should remove user from group', async (assert) => {
        const group = await index_1.GroupFactory.merge({ master: user.id }).create();
        const plainPassword = 'test';
        const newUser = await index_1.UserFactory.merge({ password: plainPassword }).create();
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/sessions')
            .set('Authorization', `Bearer ${token}`)
            .send({ email: newUser.email, password: plainPassword });
        const playerToken = response.body.token.token;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .post(`/groups/${group.id}/requests`)
            .set('Authorization', `Bearer ${playerToken}`)
            .send({});
        await (0, supertest_1.default)(BASE_URL)
            .post(`/groups/${group.id}/requests/${body.groupRequest.id}/accept`)
            .set('Authorization', `Bearer ${token}`);
        await (0, supertest_1.default)(BASE_URL)
            .delete(`/groups/${group.id}/players/${newUser.id}`)
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        await group.load('players');
        assert.isEmpty(group.players);
    });
    (0, japa_1.default)('it should not remove the master of the group', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload);
        const group = body.group;
        await (0, supertest_1.default)(BASE_URL)
            .delete(`/groups/${group.id}/players/${user.id}`)
            .set('Authorization', `Bearer ${token}`)
            .expect(400);
        const groupModel = await Group_1.default.findOrFail(group.id);
        await groupModel.load('players');
        assert.isNotEmpty(groupModel.players);
    });
    (0, japa_1.default)('it should remove the group', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload);
        const group = body.group;
        await (0, supertest_1.default)(BASE_URL)
            .delete(`/groups/${group.id}`)
            .set('Authorization', `Bearer ${token}`)
            .send({})
            .expect(200);
        const emptyGroup = await Database_1.default.query().from('groups').where('id', group.id);
        assert.isEmpty(emptyGroup);
        const players = await Database_1.default.query().from('groups_users');
        assert.isEmpty(players);
    });
    (0, japa_1.default)('it should return 404 when providing an unexisting group for deletion', async (assert) => {
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .delete('/groups/1')
            .set('Authorization', `Bearer ${token}`)
            .send({})
            .expect(404);
        assert.equal(body.code, 'BAD_REQUEST');
        assert.equal(body.status, 404);
    });
    (0, japa_1.default)('it should return all groups when no query is provided to list groups', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        const group = response.body.group;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get('/groups')
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 1);
        assert.equal(body.groups.data[0].id, group.id);
        assert.equal(body.groups.data[0].name, group.name);
        assert.equal(body.groups.data[0].description, group.description);
        assert.equal(body.groups.data[0].location, group.location);
        assert.equal(body.groups.data[0].schedule, group.schedule);
        assert.exists(body.groups.data[0].masterUser, 'Master undefined');
        assert.equal(body.groups.data[0].masterUser.id, user.id);
        assert.equal(body.groups.data[0].masterUser.username, user.username);
        assert.isNotEmpty(body.groups.data[0].players, 'Empty players');
        assert.equal(body.groups.data[0].players[0].id, user.id);
        assert.equal(body.groups.data[0].players[0].email, user.email);
        assert.equal(body.groups.data[0].players[0].username, user.username);
    });
    (0, japa_1.default)('it should return no groups by user id', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get('/groups?user=123')
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 0);
    });
    (0, japa_1.default)('it should return all groups by user id', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        const group = response.body.group;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get(`/groups?user=${user.id}`)
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 1);
        assert.equal(body.groups.data[0].id, group.id);
        assert.equal(body.groups.data[0].name, group.name);
        assert.equal(body.groups.data[0].description, group.description);
        assert.equal(body.groups.data[0].location, group.location);
        assert.equal(body.groups.data[0].schedule, group.schedule);
        assert.exists(body.groups.data[0].masterUser, 'Master undefined');
        assert.equal(body.groups.data[0].masterUser.id, user.id);
        assert.equal(body.groups.data[0].masterUser.username, user.username);
        assert.isNotEmpty(body.groups.data[0].players, 'Empty players');
        assert.equal(body.groups.data[0].players[0].id, user.id);
        assert.equal(body.groups.data[0].players[0].email, user.email);
        assert.equal(body.groups.data[0].players[0].username, user.username);
    });
    (0, japa_1.default)('it should return all groups by user id and name', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send({ ...groupPayload, name: '123', description: '123' })
            .expect(201);
        const group = response.body.group;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get(`/groups?user=${user.id}&text=es`)
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 1);
        assert.equal(body.groups.data[0].id, group.id);
        assert.equal(body.groups.data[0].name, group.name);
        assert.equal(body.groups.data[0].description, group.description);
        assert.equal(body.groups.data[0].location, group.location);
        assert.equal(body.groups.data[0].schedule, group.schedule);
        assert.exists(body.groups.data[0].masterUser, 'Master undefined');
        assert.equal(body.groups.data[0].masterUser.id, user.id);
        assert.equal(body.groups.data[0].masterUser.username, user.username);
        assert.isNotEmpty(body.groups.data[0].players, 'Empty players');
        assert.equal(body.groups.data[0].players[0].id, user.id);
        assert.equal(body.groups.data[0].players[0].email, user.email);
        assert.equal(body.groups.data[0].players[0].username, user.username);
    });
    (0, japa_1.default)('it should return all groups by user id and description', async (assert) => {
        const groupPayload = {
            name: '123',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send({ ...groupPayload, name: '123', description: '123' })
            .expect(201);
        const group = response.body.group;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get(`/groups?user=${user.id}&text=es`)
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 1);
        assert.equal(body.groups.data[0].id, group.id);
        assert.equal(body.groups.data[0].name, group.name);
        assert.equal(body.groups.data[0].description, group.description);
        assert.equal(body.groups.data[0].location, group.location);
        assert.equal(body.groups.data[0].schedule, group.schedule);
        assert.exists(body.groups.data[0].masterUser, 'Master undefined');
        assert.equal(body.groups.data[0].masterUser.id, user.id);
        assert.equal(body.groups.data[0].masterUser.username, user.username);
        assert.isNotEmpty(body.groups.data[0].players, 'Empty players');
        assert.equal(body.groups.data[0].players[0].id, user.id);
        assert.equal(body.groups.data[0].players[0].email, user.email);
        assert.equal(body.groups.data[0].players[0].username, user.username);
    });
    (0, japa_1.default)('it should return all groups by name', async (assert) => {
        const groupPayload = {
            name: 'test',
            description: '123',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send({ ...groupPayload, name: '123', description: '123' })
            .expect(201);
        const group = response.body.group;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get('/groups?text=es')
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 1);
        assert.equal(body.groups.data[0].id, group.id);
        assert.equal(body.groups.data[0].name, group.name);
        assert.equal(body.groups.data[0].description, group.description);
        assert.equal(body.groups.data[0].location, group.location);
        assert.equal(body.groups.data[0].schedule, group.schedule);
        assert.exists(body.groups.data[0].masterUser, 'Master undefined');
        assert.equal(body.groups.data[0].masterUser.id, user.id);
        assert.equal(body.groups.data[0].masterUser.username, user.username);
        assert.isNotEmpty(body.groups.data[0].players, 'Empty players');
        assert.equal(body.groups.data[0].players[0].id, user.id);
        assert.equal(body.groups.data[0].players[0].email, user.email);
        assert.equal(body.groups.data[0].players[0].username, user.username);
    });
    (0, japa_1.default)('it should return all groups by description', async (assert) => {
        const groupPayload = {
            name: '123',
            description: 'test',
            schedule: 'test',
            location: 'test',
            chronic: 'test',
            master: user.id,
        };
        const response = await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send(groupPayload)
            .expect(201);
        await (0, supertest_1.default)(BASE_URL)
            .post('/groups')
            .set('Authorization', `Bearer ${token}`)
            .send({ ...groupPayload, name: '123', description: '123' })
            .expect(201);
        const group = response.body.group;
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .get('/groups?text=es')
            .set('Authorization', `Bearer ${token}`)
            .expect(200);
        assert.exists(body.groups, 'Groups undefined');
        assert.equal(body.groups.data.length, 1);
        assert.equal(body.groups.data[0].id, group.id);
        assert.equal(body.groups.data[0].name, group.name);
        assert.equal(body.groups.data[0].description, group.description);
        assert.equal(body.groups.data[0].location, group.location);
        assert.equal(body.groups.data[0].schedule, group.schedule);
        assert.exists(body.groups.data[0].masterUser, 'Master undefined');
        assert.equal(body.groups.data[0].masterUser.id, user.id);
        assert.equal(body.groups.data[0].masterUser.username, user.username);
        assert.isNotEmpty(body.groups.data[0].players, 'Empty players');
        assert.equal(body.groups.data[0].players[0].id, user.id);
        assert.equal(body.groups.data[0].players[0].email, user.email);
        assert.equal(body.groups.data[0].players[0].username, user.username);
    });
    group.before(async () => {
        const plainPassword = 'test';
        const newUser = await index_1.UserFactory.merge({ password: plainPassword }).create();
        const { body } = await (0, supertest_1.default)(BASE_URL)
            .post('/sessions')
            .set('Authorization', `Bearer ${token}`)
            .send({ email: newUser.email, password: plainPassword })
            .expect(201);
        token = body.token.token;
        user = newUser;
    });
    group.after(async () => {
        await (0, supertest_1.default)(BASE_URL)
            .delete('/sessions')
            .set('Authorization', `Bearer ${token}`);
    });
    group.beforeEach(async () => {
        await Database_1.default.beginGlobalTransaction();
    });
    group.afterEach(async () => {
        await Database_1.default.rollbackGlobalTransaction();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JvdXAuc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdyb3VwLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSw0REFBNEU7QUFDNUUsZ0RBQXVCO0FBQ3ZCLDBEQUFpQztBQUNqQywyRkFBaUQ7QUFDakQsbUZBQW9DO0FBR3BDLE1BQU0sUUFBUSxHQUFHLFVBQVUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtBQUVqRSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUE7QUFDZCxJQUFJLElBQUksR0FBRyxFQUFVLENBQUE7QUFFckIsY0FBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUM1QixJQUFBLGNBQUksRUFBQyx5QkFBeUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDL0MsTUFBTSxJQUFJLEdBQUcsTUFBTSxtQkFBVyxDQUFDLE1BQU0sRUFBRSxDQUFBO1FBQ3ZDLE1BQU0sWUFBWSxHQUFHO1lBQ25CLElBQUksRUFBRSxNQUFNO1lBQ1osV0FBVyxFQUFFLE1BQU07WUFDbkIsUUFBUSxFQUFFLE1BQU07WUFDaEIsUUFBUSxFQUFFLE1BQU07WUFDaEIsT0FBTyxFQUFFLE1BQU07WUFDZixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUU7U0FDaEIsQ0FBQTtRQUVELE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxNQUFNLElBQUEsbUJBQVMsRUFBQyxRQUFRLENBQUM7YUFDdkMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNmLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBVSxLQUFLLEVBQUUsQ0FBQzthQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDO2FBQ2xCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUVkLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FB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QUFDLENBQUE7UUFDMUQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLGtCQUFrQixDQUFDLENBQUE7UUFDakUsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUN4RCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3BFLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQyxDQUFBO1FBQy9ELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDeEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUM5RCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3RFLENBQUMsQ0FBQyxDQUFBO0lBRUYsSUFBQSxjQUFJLEVBQUMsaURBQWlELEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3ZFLE1BQU0sWUFBWSxHQUFHO1lBQ25CLElBQUksRUFBRSxNQUFNO1lBQ1osV0FBVyxFQUFFLE1BQU07WUFDbkIsUUFBUSxFQUFFLE1BQU07WUFDaEIsUUFBUSxFQUFFLE1BQU07WUFDaEIsT0FBTyxFQUFFLE1BQU07WUFDZixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUU7U0FDaEIsQ0FBQTtRQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBQSxtQkFBUyxFQUFDLFFBQVEsQ0FBQzthQUN2QyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ2YsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFVLEtBQUssRUFBRSxDQUFDO2FBQ3ZDLElBQUksQ0FBQyxZQUFZLENBQUM7YUFDbEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBRWQsTUFBTSxJQUFBLG1CQUFTLEVBQUMsUUFBUSxDQUFDO2FBQ3RCLElBQUksQ0FBQyxTQUFTLENBQUM7YUFDZixHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVUsS0FBSyxFQUFFLENBQUM7YUFDdkMsSUFBSSxDQUFDLEVBQUUsR0FBRyxZQUFZLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLENBQUM7YUFDMUQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBRWQsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUE7UUFFakMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBQSxtQkFBUyxFQUFDLFFBQVEsQ0FBQzthQUN2QyxHQUFHLENBQUMsZ0JBQWdCLElBQUksQ0FBQyxFQUFFLFVBQVUsQ0FBQzthQUN0QyxHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVUsS0FBSyxFQUFFLENBQUM7YUFDdkMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBRWQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLGtCQUFrQixDQUFDLENBQUE7UUFDOUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDeEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQzlDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsRCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDaEUsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQzFELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxrQkFBa0IsQ0FBQyxDQUFBO1FBQ2pFLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7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QUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDbEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQ2hFLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUMxRCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtRQUNqRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3hELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDcEUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDLENBQUE7UUFDL0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxF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QUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUN4QyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDOUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ2xELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUNoRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDMUQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLGtCQUFrQixDQUFDLENBQUE7UUFDakUsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUN4RCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3BFLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQyxDQUFBO1FBQy9ELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDeEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUM5RCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3RFLENBQUMsQ0FBQyxDQUFBO0lBRUYsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksRUFBRTtRQUN0QixNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUE7UUFDNUIsTUFBTSxPQUFPLEdBQUcsTUFBTSxtQkFBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFBO1FBQzdFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxNQUFNLElBQUEsbUJBQVMsRUFBQyxRQUFRLENBQUM7YUFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQzthQUNqQixHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVUsS0FBSyxFQUFFLENBQUM7YUFDdkMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxDQUFDO2FBQ3ZELE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUVkLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQTtRQUN4QixJQUFJLEdBQUcsT0FBTyxDQUFBO0lBQ2hCLENBQUMsQ0FBQyxDQUFBO0lBRUYsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNyQixNQUFNLElBQUEsbUJBQVMsRUFBQyxRQUFRLENBQUM7YUFDdEIsTUFBTSxDQUFDLFdBQVcsQ0FBQzthQUNuQixHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVUsS0FBSyxFQUFFLENBQUMsQ0FBQTtJQUM1QyxDQUFDLENBQUMsQ0FBQTtJQUVGLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDMUIsTUFBTSxrQkFBUSxDQUFDLHNCQUFzQixFQUFFLENBQUE7SUFDekMsQ0FBQyxDQUFDLENBQUE7SUFDRixLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ3pCLE1BQU0sa0JBQVEsQ0FBQyx5QkFBeUIsRUFBRSxDQUFBO0lBQzVDLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzY2hlbWEgfSBmcm9tICdAaW9jOkFkb25pcy9Db3JlL1ZhbGlkYXRvcic7XG5pbXBvcnQgeyBHcm91cEZhY3RvcnksIFVzZXJGYWN0b3J5IH0gZnJvbSAnLi8uLi8uLi9kYXRhYmFzZS9mYWN0b3JpZXMvaW5kZXgnXG5pbXBvcnQgdGVzdCBmcm9tICdqYXBhJ1xuaW1wb3J0IHN1cGVydGVzdCBmcm9tICdzdXBlcnRlc3QnXG5pbXBvcnQgRGF0YWJhc2UgZnJvbSAnQGlvYzpBZG9uaXMvTHVjaWQvRGF0YWJhc2UnXG5pbXBvcnQgR3JvdXAgZnJvbSAnQXBwL01vZGVscy9Hcm91cCdcbmltcG9ydCBVc2VyIGZyb20gJ0FwcC9Nb2RlbHMvVXNlcidcblxuY29uc3QgQkFTRV9VUkwgPSBgaHR0cDovLyR7cHJvY2Vzcy5lbnYuSE9TVH06JHtwcm9jZXNzLmVudi5QT1JUfWBcblxubGV0IHRva2VuID0gJydcbmxldCB1c2VyID0ge30gYXMgVXNlclxuXG50ZXN0Lmdyb3VwKCdHcm91cCcsIChncm91cCkgPT4ge1xuICB0ZXN0KCdpdCBzaG91bGQgY3JlYXQgYSBncm91cCcsIGFzeW5jIChhc3NlcnQpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlckZhY3RvcnkuY3JlYXRlKClcbiAgICBjb25zdCBncm91cFBheWxvYWQgPSB7XG4gICAgICBuYW1lOiAndGVzdCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ3Rlc3QnLFxuICAgICAgc2NoZWR1bGU6ICd0ZXN0JyxcbiAgICAgIGxvY2F0aW9uOiAndGVzdCcsXG4gICAgICBjaHJvbmljOiAndGVzdCcsXG4gICAgICBtYXN0ZXI6IHVzZXIuaWQsXG4gICAgfVxuXG4gICAgY29uc3QgeyBib2R5IH0gPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAucG9zdCgnL2dyb3VwcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZChncm91cFBheWxvYWQpXG4gICAgICAuZXhwZWN0KDIwMSlcblxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cCwgJ0dyb3VwIHVuZGVmaW5lZCcpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXAubmFtZSwgZ3JvdXBQYXlsb2FkLm5hbWUpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXAuZGVzY3JpcHRpb24sIGdyb3VwUGF5bG9hZC5kZXNjcmlwdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cC5zY2hlZHVsZSwgZ3JvdXBQYXlsb2FkLnNjaGVkdWxlKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3VwLmxvY2F0aW9uLCBncm91cFBheWxvYWQubG9jYXRpb24pXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXAuY2hyb25pYywgZ3JvdXBQYXlsb2FkLmNocm9uaWMpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXAubWFzdGVyLCBncm91cFBheWxvYWQubWFzdGVyKVxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cC5wbGF5ZXJzLCAnUGxheWVycyB1bmRlZmluZWQnKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3VwLnBsYXllcnMubGVuZ3RoLCAxKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3VwLnBsYXllcnNbMF0uaWQsIGdyb3VwUGF5bG9hZC5tYXN0ZXIpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJldHVybiA0MjIgd2hlbiByZXF1aXJlZCBkYXRhIGlzIG5vdCBwcm92aWRlZCcsIGFzeW5jIChhc3NlcnQpID0+IHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KCcvZ3JvdXBzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKHt9KVxuICAgICAgLmV4cGVjdCg0MjIpXG5cbiAgICBhc3NlcnQuZXF1YWwoYm9keS5jb2RlLCAnQkFEX1JFUVVFU1QnKVxuICAgIGFzc2VydC5lcXVhbChib2R5LnN0YXR1cywgNDIyKVxuICB9KVxuXG4gIHRlc3QoJ2l0IHNob3VsZCB1cGRhdGUgYSBncm91cCcsIGFzeW5jIChhc3NlcnQpID0+IHtcbiAgICBjb25zdCBncm91cCA9IGF3YWl0IEdyb3VwRmFjdG9yeS5tZXJnZSh7IG1hc3RlcjogdXNlci5pZCB9KS5jcmVhdGUoKVxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBuYW1lOiAndGVzdCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ3Rlc3QnLFxuICAgICAgc2NoZWR1bGU6ICd0ZXN0JyxcbiAgICAgIGxvY2F0aW9uOiAndGVzdCcsXG4gICAgICBjaHJvbmljOiAndGVzdCcsXG4gICAgfVxuXG4gICAgLy8gTyBcIlB1dFwiIMOpIHV0aWxpemFkbyBxdWFuZG8gdG9kbyBvIHBheWxvYWQgc2Vyw6EgYXR1YWxpemFkb1xuICAgIC8vIE8gXCJQYXRjaFwiIMOpIHV0aWxpemFkbyBxdWFuZG8gYXBlbmFzIHBhcnRlIGRlbGUgcG9kZSBzZXIgYXR1YWxpemFkby5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wYXRjaChgL2dyb3Vwcy8ke2dyb3VwLmlkfWApXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZChwYXlsb2FkKVxuICAgICAgLmV4cGVjdCgyMDApXG5cbiAgICBhc3NlcnQuZXhpc3RzKGJvZHkuZ3JvdXAsICdHcm91cCB1bmRlZmluZWQnKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3VwLm5hbWUsIHBheWxvYWQubmFtZSlcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cC5kZXNjcmlwdGlvbiwgcGF5bG9hZC5kZXNjcmlwdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cC5zY2hlZHVsZSwgcGF5bG9hZC5zY2hlZHVsZSlcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cC5sb2NhdGlvbiwgcGF5bG9hZC5sb2NhdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cC5jaHJvbmljLCBwYXlsb2FkLmNocm9uaWMpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJldHVybiA0MDQgd2hlbiBwcm92aWRpbmcgYW4gdW5leGlzdGluZyBncm91cCBmb3IgdXBkYXRlJywgYXN5bmMgKGFzc2VydCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBhdGNoKCcvZ3JvdXBzLzEnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoe30pXG4gICAgICAuZXhwZWN0KDQwNClcblxuICAgIGFzc2VydC5lcXVhbChyZXNwb25zZS5ib2R5LmNvZGUsICdCQURfUkVRVUVTVCcpXG4gICAgYXNzZXJ0LmVxdWFsKHJlc3BvbnNlLmJvZHkuc3RhdHVzLCA0MDQpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJlbW92ZSB1c2VyIGZyb20gZ3JvdXAnLCBhc3luYyAoYXNzZXJ0KSA9PiB7XG4gICAgY29uc3QgZ3JvdXAgPSBhd2FpdCBHcm91cEZhY3RvcnkubWVyZ2UoeyBtYXN0ZXI6IHVzZXIuaWQgfSkuY3JlYXRlKClcblxuICAgIGNvbnN0IHBsYWluUGFzc3dvcmQgPSAndGVzdCdcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgVXNlckZhY3RvcnkubWVyZ2UoeyBwYXNzd29yZDogcGxhaW5QYXNzd29yZCB9KS5jcmVhdGUoKVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBvc3QoJy9zZXNzaW9ucycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZCh7IGVtYWlsOiBuZXdVc2VyLmVtYWlsLCBwYXNzd29yZDogcGxhaW5QYXNzd29yZCB9KVxuXG4gICAgY29uc3QgcGxheWVyVG9rZW4gPSByZXNwb25zZS5ib2R5LnRva2VuLnRva2VuXG5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KGAvZ3JvdXBzLyR7Z3JvdXAuaWR9L3JlcXVlc3RzYClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7cGxheWVyVG9rZW59YClcbiAgICAgIC5zZW5kKHt9KVxuXG4gICAgYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBvc3QoYC9ncm91cHMvJHtncm91cC5pZH0vcmVxdWVzdHMvJHtib2R5Lmdyb3VwUmVxdWVzdC5pZH0vYWNjZXB0YClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcblxuICAgIGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5kZWxldGUoYC9ncm91cHMvJHtncm91cC5pZH0vcGxheWVycy8ke25ld1VzZXIuaWR9YClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5leHBlY3QoMjAwKVxuXG4gICAgYXdhaXQgZ3JvdXAubG9hZCgncGxheWVycycpXG4gICAgYXNzZXJ0LmlzRW1wdHkoZ3JvdXAucGxheWVycylcbiAgfSlcblxuICB0ZXN0KCdpdCBzaG91bGQgbm90IHJlbW92ZSB0aGUgbWFzdGVyIG9mIHRoZSBncm91cCcsIGFzeW5jIChhc3NlcnQpID0+IHtcbiAgICBjb25zdCBncm91cFBheWxvYWQgPSB7XG4gICAgICBuYW1lOiAndGVzdCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ3Rlc3QnLFxuICAgICAgc2NoZWR1bGU6ICd0ZXN0JyxcbiAgICAgIGxvY2F0aW9uOiAndGVzdCcsXG4gICAgICBjaHJvbmljOiAndGVzdCcsXG4gICAgICBtYXN0ZXI6IHVzZXIuaWQsXG4gICAgfVxuXG4gICAgY29uc3QgeyBib2R5IH0gPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAucG9zdCgnL2dyb3VwcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZChncm91cFBheWxvYWQpXG5cbiAgICBjb25zdCBncm91cCA9IGJvZHkuZ3JvdXBcblxuICAgIGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5kZWxldGUoYC9ncm91cHMvJHtncm91cC5pZH0vcGxheWVycy8ke3VzZXIuaWR9YClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5leHBlY3QoNDAwKVxuXG4gICAgY29uc3QgZ3JvdXBNb2RlbCA9IGF3YWl0IEdyb3VwLmZpbmRPckZhaWwoZ3JvdXAuaWQpXG4gICAgYXdhaXQgZ3JvdXBNb2RlbC5sb2FkKCdwbGF5ZXJzJylcbiAgICBhc3NlcnQuaXNOb3RFbXB0eShncm91cE1vZGVsLnBsYXllcnMpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJlbW92ZSB0aGUgZ3JvdXAnLCBhc3luYyAoYXNzZXJ0KSA9PiB7XG4gICAgY29uc3QgZ3JvdXBQYXlsb2FkID0ge1xuICAgICAgbmFtZTogJ3Rlc3QnLFxuICAgICAgZGVzY3JpcHRpb246ICd0ZXN0JyxcbiAgICAgIHNjaGVkdWxlOiAndGVzdCcsXG4gICAgICBsb2NhdGlvbjogJ3Rlc3QnLFxuICAgICAgY2hyb25pYzogJ3Rlc3QnLFxuICAgICAgbWFzdGVyOiB1c2VyLmlkLFxuICAgIH1cblxuICAgIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBvc3QoJy9ncm91cHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoZ3JvdXBQYXlsb2FkKVxuXG4gICAgY29uc3QgZ3JvdXAgPSBib2R5Lmdyb3VwXG5cbiAgICBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAuZGVsZXRlKGAvZ3JvdXBzLyR7Z3JvdXAuaWR9YClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKHt9KVxuICAgICAgLmV4cGVjdCgyMDApXG5cbiAgICBjb25zdCBlbXB0eUdyb3VwID0gYXdhaXQgRGF0YWJhc2UucXVlcnkoKS5mcm9tKCdncm91cHMnKS53aGVyZSgnaWQnLCBncm91cC5pZClcbiAgICBhc3NlcnQuaXNFbXB0eShlbXB0eUdyb3VwKVxuXG4gICAgY29uc3QgcGxheWVycyA9IGF3YWl0IERhdGFiYXNlLnF1ZXJ5KCkuZnJvbSgnZ3JvdXBzX3VzZXJzJylcbiAgICBhc3NlcnQuaXNFbXB0eShwbGF5ZXJzKVxuICB9KVxuXG4gIHRlc3QoJ2l0IHNob3VsZCByZXR1cm4gNDA0IHdoZW4gcHJvdmlkaW5nIGFuIHVuZXhpc3RpbmcgZ3JvdXAgZm9yIGRlbGV0aW9uJywgYXN5bmMgKGFzc2VydCkgPT4ge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLmRlbGV0ZSgnL2dyb3Vwcy8xJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKHt9KVxuICAgICAgLmV4cGVjdCg0MDQpXG5cbiAgICBhc3NlcnQuZXF1YWwoYm9keS5jb2RlLCAnQkFEX1JFUVVFU1QnKVxuICAgIGFzc2VydC5lcXVhbChib2R5LnN0YXR1cywgNDA0KVxuICB9KVxuXG4gIHRlc3QoJ2l0IHNob3VsZCByZXR1cm4gYWxsIGdyb3VwcyB3aGVuIG5vIHF1ZXJ5IGlzIHByb3ZpZGVkIHRvIGxpc3QgZ3JvdXBzJywgYXN5bmMgKGFzc2VydCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwUGF5bG9hZCA9IHtcbiAgICAgIG5hbWU6ICd0ZXN0JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAndGVzdCcsXG4gICAgICBzY2hlZHVsZTogJ3Rlc3QnLFxuICAgICAgbG9jYXRpb246ICd0ZXN0JyxcbiAgICAgIGNocm9uaWM6ICd0ZXN0JyxcbiAgICAgIG1hc3RlcjogdXNlci5pZCxcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KCcvZ3JvdXBzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKGdyb3VwUGF5bG9hZClcbiAgICAgIC5leHBlY3QoMjAxKVxuXG4gICAgY29uc3QgZ3JvdXAgPSByZXNwb25zZS5ib2R5Lmdyb3VwXG5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5nZXQoJy9ncm91cHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLmV4cGVjdCgyMDApXG5cbiAgICBhc3NlcnQuZXhpc3RzKGJvZHkuZ3JvdXBzLCAnR3JvdXBzIHVuZGVmaW5lZCcpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGEubGVuZ3RoLCAxKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmlkLCBncm91cC5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5uYW1lLCBncm91cC5uYW1lKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmRlc2NyaXB0aW9uLCBncm91cC5kZXNjcmlwdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5sb2NhdGlvbiwgZ3JvdXAubG9jYXRpb24pXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uc2NoZWR1bGUsIGdyb3VwLnNjaGVkdWxlKVxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLCAnTWFzdGVyIHVuZGVmaW5lZCcpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ubWFzdGVyVXNlci5pZCwgdXNlci5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLnVzZXJuYW1lLCB1c2VyLnVzZXJuYW1lKVxuICAgIGFzc2VydC5pc05vdEVtcHR5KGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVycywgJ0VtcHR5IHBsYXllcnMnKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLnBsYXllcnNbMF0uaWQsIHVzZXIuaWQpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVyc1swXS5lbWFpbCwgdXNlci5lbWFpbClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzWzBdLnVzZXJuYW1lLCB1c2VyLnVzZXJuYW1lKVxuICB9KVxuXG4gIHRlc3QoJ2l0IHNob3VsZCByZXR1cm4gbm8gZ3JvdXBzIGJ5IHVzZXIgaWQnLCBhc3luYyAoYXNzZXJ0KSA9PiB7XG4gICAgY29uc3QgZ3JvdXBQYXlsb2FkID0ge1xuICAgICAgbmFtZTogJ3Rlc3QnLFxuICAgICAgZGVzY3JpcHRpb246ICd0ZXN0JyxcbiAgICAgIHNjaGVkdWxlOiAndGVzdCcsXG4gICAgICBsb2NhdGlvbjogJ3Rlc3QnLFxuICAgICAgY2hyb25pYzogJ3Rlc3QnLFxuICAgICAgbWFzdGVyOiB1c2VyLmlkLFxuICAgIH1cblxuICAgIGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KCcvZ3JvdXBzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKGdyb3VwUGF5bG9hZClcbiAgICAgIC5leHBlY3QoMjAxKVxuXG4gICAgY29uc3QgeyBib2R5IH0gPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAuZ2V0KCcvZ3JvdXBzP3VzZXI9MTIzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5leHBlY3QoMjAwKVxuXG4gICAgYXNzZXJ0LmV4aXN0cyhib2R5Lmdyb3VwcywgJ0dyb3VwcyB1bmRlZmluZWQnKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhLmxlbmd0aCwgMClcbiAgfSlcblxuICB0ZXN0KCdpdCBzaG91bGQgcmV0dXJuIGFsbCBncm91cHMgYnkgdXNlciBpZCcsIGFzeW5jIChhc3NlcnQpID0+IHtcbiAgICBjb25zdCBncm91cFBheWxvYWQgPSB7XG4gICAgICBuYW1lOiAndGVzdCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ3Rlc3QnLFxuICAgICAgc2NoZWR1bGU6ICd0ZXN0JyxcbiAgICAgIGxvY2F0aW9uOiAndGVzdCcsXG4gICAgICBjaHJvbmljOiAndGVzdCcsXG4gICAgICBtYXN0ZXI6IHVzZXIuaWQsXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAucG9zdCgnL2dyb3VwcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZChncm91cFBheWxvYWQpXG4gICAgICAuZXhwZWN0KDIwMSlcblxuICAgIGNvbnN0IGdyb3VwID0gcmVzcG9uc2UuYm9keS5ncm91cFxuXG4gICAgY29uc3QgeyBib2R5IH0gPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAuZ2V0KGAvZ3JvdXBzP3VzZXI9JHt1c2VyLmlkfWApXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuZXhwZWN0KDIwMClcblxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cHMsICdHcm91cHMgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YS5sZW5ndGgsIDEpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uaWQsIGdyb3VwLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm5hbWUsIGdyb3VwLm5hbWUpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uZGVzY3JpcHRpb24sIGdyb3VwLmRlc2NyaXB0aW9uKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmxvY2F0aW9uLCBncm91cC5sb2NhdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5zY2hlZHVsZSwgZ3JvdXAuc2NoZWR1bGUpXG4gICAgYXNzZXJ0LmV4aXN0cyhib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIsICdNYXN0ZXIgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLmlkLCB1c2VyLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIudXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gICAgYXNzZXJ0LmlzTm90RW1wdHkoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzLCAnRW1wdHkgcGxheWVycycpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVyc1swXS5pZCwgdXNlci5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzWzBdLmVtYWlsLCB1c2VyLmVtYWlsKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLnBsYXllcnNbMF0udXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJldHVybiBhbGwgZ3JvdXBzIGJ5IHVzZXIgaWQgYW5kIG5hbWUnLCBhc3luYyAoYXNzZXJ0KSA9PiB7XG4gICAgY29uc3QgZ3JvdXBQYXlsb2FkID0ge1xuICAgICAgbmFtZTogJ3Rlc3QnLFxuICAgICAgZGVzY3JpcHRpb246ICd0ZXN0JyxcbiAgICAgIHNjaGVkdWxlOiAndGVzdCcsXG4gICAgICBsb2NhdGlvbjogJ3Rlc3QnLFxuICAgICAgY2hyb25pYzogJ3Rlc3QnLFxuICAgICAgbWFzdGVyOiB1c2VyLmlkLFxuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBvc3QoJy9ncm91cHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoZ3JvdXBQYXlsb2FkKVxuICAgICAgLmV4cGVjdCgyMDEpXG5cbiAgICBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAucG9zdCgnL2dyb3VwcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZCh7IC4uLmdyb3VwUGF5bG9hZCwgbmFtZTogJzEyMycsIGRlc2NyaXB0aW9uOiAnMTIzJyB9KVxuICAgICAgLmV4cGVjdCgyMDEpXG5cbiAgICBjb25zdCBncm91cCA9IHJlc3BvbnNlLmJvZHkuZ3JvdXBcblxuICAgIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLmdldChgL2dyb3Vwcz91c2VyPSR7dXNlci5pZH0mdGV4dD1lc2ApXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuZXhwZWN0KDIwMClcblxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cHMsICdHcm91cHMgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YS5sZW5ndGgsIDEpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uaWQsIGdyb3VwLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm5hbWUsIGdyb3VwLm5hbWUpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uZGVzY3JpcHRpb24sIGdyb3VwLmRlc2NyaXB0aW9uKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmxvY2F0aW9uLCBncm91cC5sb2NhdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5zY2hlZHVsZSwgZ3JvdXAuc2NoZWR1bGUpXG4gICAgYXNzZXJ0LmV4aXN0cyhib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIsICdNYXN0ZXIgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLmlkLCB1c2VyLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIudXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gICAgYXNzZXJ0LmlzTm90RW1wdHkoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzLCAnRW1wdHkgcGxheWVycycpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVyc1swXS5pZCwgdXNlci5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzWzBdLmVtYWlsLCB1c2VyLmVtYWlsKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLnBsYXllcnNbMF0udXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJldHVybiBhbGwgZ3JvdXBzIGJ5IHVzZXIgaWQgYW5kIGRlc2NyaXB0aW9uJywgYXN5bmMgKGFzc2VydCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwUGF5bG9hZCA9IHtcbiAgICAgIG5hbWU6ICcxMjMnLFxuICAgICAgZGVzY3JpcHRpb246ICd0ZXN0JyxcbiAgICAgIHNjaGVkdWxlOiAndGVzdCcsXG4gICAgICBsb2NhdGlvbjogJ3Rlc3QnLFxuICAgICAgY2hyb25pYzogJ3Rlc3QnLFxuICAgICAgbWFzdGVyOiB1c2VyLmlkLFxuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBvc3QoJy9ncm91cHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoZ3JvdXBQYXlsb2FkKVxuICAgICAgLmV4cGVjdCgyMDEpXG5cbiAgICBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAucG9zdCgnL2dyb3VwcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZCh7IC4uLmdyb3VwUGF5bG9hZCwgbmFtZTogJzEyMycsIGRlc2NyaXB0aW9uOiAnMTIzJyB9KVxuICAgICAgLmV4cGVjdCgyMDEpXG5cbiAgICBjb25zdCBncm91cCA9IHJlc3BvbnNlLmJvZHkuZ3JvdXBcblxuICAgIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLmdldChgL2dyb3Vwcz91c2VyPSR7dXNlci5pZH0mdGV4dD1lc2ApXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuZXhwZWN0KDIwMClcblxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cHMsICdHcm91cHMgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YS5sZW5ndGgsIDEpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uaWQsIGdyb3VwLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm5hbWUsIGdyb3VwLm5hbWUpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uZGVzY3JpcHRpb24sIGdyb3VwLmRlc2NyaXB0aW9uKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmxvY2F0aW9uLCBncm91cC5sb2NhdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5zY2hlZHVsZSwgZ3JvdXAuc2NoZWR1bGUpXG4gICAgYXNzZXJ0LmV4aXN0cyhib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIsICdNYXN0ZXIgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLmlkLCB1c2VyLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIudXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gICAgYXNzZXJ0LmlzTm90RW1wdHkoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzLCAnRW1wdHkgcGxheWVycycpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVyc1swXS5pZCwgdXNlci5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzWzBdLmVtYWlsLCB1c2VyLmVtYWlsKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLnBsYXllcnNbMF0udXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gIH0pXG5cbiAgdGVzdCgnaXQgc2hvdWxkIHJldHVybiBhbGwgZ3JvdXBzIGJ5IG5hbWUnLCBhc3luYyAoYXNzZXJ0KSA9PiB7XG4gICAgY29uc3QgZ3JvdXBQYXlsb2FkID0ge1xuICAgICAgbmFtZTogJ3Rlc3QnLFxuICAgICAgZGVzY3JpcHRpb246ICcxMjMnLFxuICAgICAgc2NoZWR1bGU6ICd0ZXN0JyxcbiAgICAgIGxvY2F0aW9uOiAndGVzdCcsXG4gICAgICBjaHJvbmljOiAndGVzdCcsXG4gICAgICBtYXN0ZXI6IHVzZXIuaWQsXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAucG9zdCgnL2dyb3VwcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZChncm91cFBheWxvYWQpXG4gICAgICAuZXhwZWN0KDIwMSlcblxuICAgIGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KCcvZ3JvdXBzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKHsgLi4uZ3JvdXBQYXlsb2FkLCBuYW1lOiAnMTIzJywgZGVzY3JpcHRpb246ICcxMjMnIH0pXG4gICAgICAuZXhwZWN0KDIwMSlcblxuICAgIGNvbnN0IGdyb3VwID0gcmVzcG9uc2UuYm9keS5ncm91cFxuXG4gICAgY29uc3QgeyBib2R5IH0gPSBhd2FpdCBzdXBlcnRlc3QoQkFTRV9VUkwpXG4gICAgICAuZ2V0KCcvZ3JvdXBzP3RleHQ9ZXMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLmV4cGVjdCgyMDApXG5cbiAgICBhc3NlcnQuZXhpc3RzKGJvZHkuZ3JvdXBzLCAnR3JvdXBzIHVuZGVmaW5lZCcpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGEubGVuZ3RoLCAxKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmlkLCBncm91cC5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5uYW1lLCBncm91cC5uYW1lKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmRlc2NyaXB0aW9uLCBncm91cC5kZXNjcmlwdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5sb2NhdGlvbiwgZ3JvdXAubG9jYXRpb24pXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uc2NoZWR1bGUsIGdyb3VwLnNjaGVkdWxlKVxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLCAnTWFzdGVyIHVuZGVmaW5lZCcpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ubWFzdGVyVXNlci5pZCwgdXNlci5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLnVzZXJuYW1lLCB1c2VyLnVzZXJuYW1lKVxuICAgIGFzc2VydC5pc05vdEVtcHR5KGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVycywgJ0VtcHR5IHBsYXllcnMnKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLnBsYXllcnNbMF0uaWQsIHVzZXIuaWQpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVyc1swXS5lbWFpbCwgdXNlci5lbWFpbClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzWzBdLnVzZXJuYW1lLCB1c2VyLnVzZXJuYW1lKVxuICB9KVxuXG4gIHRlc3QoJ2l0IHNob3VsZCByZXR1cm4gYWxsIGdyb3VwcyBieSBkZXNjcmlwdGlvbicsIGFzeW5jIChhc3NlcnQpID0+IHtcbiAgICBjb25zdCBncm91cFBheWxvYWQgPSB7XG4gICAgICBuYW1lOiAnMTIzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAndGVzdCcsXG4gICAgICBzY2hlZHVsZTogJ3Rlc3QnLFxuICAgICAgbG9jYXRpb246ICd0ZXN0JyxcbiAgICAgIGNocm9uaWM6ICd0ZXN0JyxcbiAgICAgIG1hc3RlcjogdXNlci5pZCxcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KCcvZ3JvdXBzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKGdyb3VwUGF5bG9hZClcbiAgICAgIC5leHBlY3QoMjAxKVxuXG4gICAgYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLnBvc3QoJy9ncm91cHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoeyAuLi5ncm91cFBheWxvYWQsIG5hbWU6ICcxMjMnLCBkZXNjcmlwdGlvbjogJzEyMycgfSlcbiAgICAgIC5leHBlY3QoMjAxKVxuXG4gICAgY29uc3QgZ3JvdXAgPSByZXNwb25zZS5ib2R5Lmdyb3VwXG5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5nZXQoJy9ncm91cHM/dGV4dD1lcycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuZXhwZWN0KDIwMClcblxuICAgIGFzc2VydC5leGlzdHMoYm9keS5ncm91cHMsICdHcm91cHMgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YS5sZW5ndGgsIDEpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uaWQsIGdyb3VwLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm5hbWUsIGdyb3VwLm5hbWUpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0uZGVzY3JpcHRpb24sIGdyb3VwLmRlc2NyaXB0aW9uKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLmxvY2F0aW9uLCBncm91cC5sb2NhdGlvbilcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5zY2hlZHVsZSwgZ3JvdXAuc2NoZWR1bGUpXG4gICAgYXNzZXJ0LmV4aXN0cyhib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIsICdNYXN0ZXIgdW5kZWZpbmVkJylcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5tYXN0ZXJVc2VyLmlkLCB1c2VyLmlkKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLm1hc3RlclVzZXIudXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gICAgYXNzZXJ0LmlzTm90RW1wdHkoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzLCAnRW1wdHkgcGxheWVycycpXG4gICAgYXNzZXJ0LmVxdWFsKGJvZHkuZ3JvdXBzLmRhdGFbMF0ucGxheWVyc1swXS5pZCwgdXNlci5pZClcbiAgICBhc3NlcnQuZXF1YWwoYm9keS5ncm91cHMuZGF0YVswXS5wbGF5ZXJzWzBdLmVtYWlsLCB1c2VyLmVtYWlsKVxuICAgIGFzc2VydC5lcXVhbChib2R5Lmdyb3Vwcy5kYXRhWzBdLnBsYXllcnNbMF0udXNlcm5hbWUsIHVzZXIudXNlcm5hbWUpXG4gIH0pXG5cbiAgZ3JvdXAuYmVmb3JlKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwbGFpblBhc3N3b3JkID0gJ3Rlc3QnXG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IFVzZXJGYWN0b3J5Lm1lcmdlKHsgcGFzc3dvcmQ6IHBsYWluUGFzc3dvcmQgfSkuY3JlYXRlKClcbiAgICBjb25zdCB7IGJvZHkgfSA9IGF3YWl0IHN1cGVydGVzdChCQVNFX1VSTClcbiAgICAgIC5wb3N0KCcvc2Vzc2lvbnMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoeyBlbWFpbDogbmV3VXNlci5lbWFpbCwgcGFzc3dvcmQ6IHBsYWluUGFzc3dvcmQgfSlcbiAgICAgIC5leHBlY3QoMjAxKVxuXG4gICAgdG9rZW4gPSBib2R5LnRva2VuLnRva2VuXG4gICAgdXNlciA9IG5ld1VzZXJcbiAgfSlcblxuICBncm91cC5hZnRlcihhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgc3VwZXJ0ZXN0KEJBU0VfVVJMKVxuICAgICAgLmRlbGV0ZSgnL3Nlc3Npb25zJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgfSlcblxuICBncm91cC5iZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBEYXRhYmFzZS5iZWdpbkdsb2JhbFRyYW5zYWN0aW9uKClcbiAgfSlcbiAgZ3JvdXAuYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBEYXRhYmFzZS5yb2xsYmFja0dsb2JhbFRyYW5zYWN0aW9uKClcbiAgfSlcbn0pXG4iXX0=