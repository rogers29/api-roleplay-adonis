"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const runner_1 = require("@japa/runner");
runner_1.test.group('User', (group) => {
    (0, runner_1.test)('it should create an user', async ({ client, assert }) => {
        const userPayload = {
            email: 'test@test.com',
            username: 'test',
            password: 'test',
            avatar: 'https://images.com/image/1',
        };
        const response = await client.post('/users').json(userPayload);
        const { password, avatar, ...expected } = userPayload;
        response.assertStatus(201);
        response.assertBodyContains({ user: expected });
        assert.notExists(response.body().user.password, 'Password defined');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlcnMuc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInVzZXJzLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBbUM7QUFZbkMsYUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUMzQixJQUFBLGFBQUksRUFBQywwQkFBMEIsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRTtRQUM1RCxNQUFNLFdBQVcsR0FBRztZQUNsQixLQUFLLEVBQUUsZUFBZTtZQUN0QixRQUFRLEVBQUUsTUFBTTtZQUNoQixRQUFRLEVBQUUsTUFBTTtZQUNoQixNQUFNLEVBQUUsNEJBQTRCO1NBQ3JDLENBQUE7UUFDRCxNQUFNLFFBQVEsR0FBRyxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBRTlELE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEdBQUcsUUFBUSxFQUFFLEdBQUcsV0FBVyxDQUFBO1FBRXJELFFBQVEsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDMUIsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUE7UUFDL0MsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxDQUFBO0lBQ3JFLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0ZXN0IH0gZnJvbSAnQGphcGEvcnVubmVyJ1xuXG4vKlxuICB7XG4gICAgXCJ1c2Vyc1wiOiB7XG4gICAgICBcImVtYWlsXCI6IHN0cmluZyxcbiAgICAgIFwidXNlcm5hbWVcIjogc3RyaW5nLFxuICAgICAgXCJwYXNzd29yZFwiOiBzdHJpbmcsXG4gICAgICBcImF2YXRhclwiOiBzdHJpbmdcbiAgICB9XG4gIH1cbiovXG50ZXN0Lmdyb3VwKCdVc2VyJywgKGdyb3VwKSA9PiB7XG4gIHRlc3QoJ2l0IHNob3VsZCBjcmVhdGUgYW4gdXNlcicsIGFzeW5jICh7IGNsaWVudCwgYXNzZXJ0IH0pID0+IHtcbiAgICBjb25zdCB1c2VyUGF5bG9hZCA9IHtcbiAgICAgIGVtYWlsOiAndGVzdEB0ZXN0LmNvbScsXG4gICAgICB1c2VybmFtZTogJ3Rlc3QnLFxuICAgICAgcGFzc3dvcmQ6ICd0ZXN0JyxcbiAgICAgIGF2YXRhcjogJ2h0dHBzOi8vaW1hZ2VzLmNvbS9pbWFnZS8xJyxcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQucG9zdCgnL3VzZXJzJykuanNvbih1c2VyUGF5bG9hZClcblxuICAgIGNvbnN0IHsgcGFzc3dvcmQsIGF2YXRhciwgLi4uZXhwZWN0ZWQgfSA9IHVzZXJQYXlsb2FkXG5cbiAgICByZXNwb25zZS5hc3NlcnRTdGF0dXMoMjAxKVxuICAgIHJlc3BvbnNlLmFzc2VydEJvZHlDb250YWlucyh7IHVzZXI6IGV4cGVjdGVkIH0pXG4gICAgYXNzZXJ0Lm5vdEV4aXN0cyhyZXNwb25zZS5ib2R5KCkudXNlci5wYXNzd29yZCwgJ1Bhc3N3b3JkIGRlZmluZWQnKVxuICB9KVxufSlcbiJdfQ==